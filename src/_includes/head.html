<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

<link type="application/atom+xml" rel="alternate" href="{{ site.url }}/atom.xml">
<link type="application/atom+xml" rel="alternate" href="{{ site.url }}/til/atom.xml">

{% if page.canonical_url %}
<link rel="canonical" href="{{ page.canonical_url }}">
{% else %}
<link rel="canonical" href="{{ page.url | absolute_url }}">
{% endif %}

{% assign safe_title = page.title | markdownify_oneline | strip_html %}
<title>{% if page.title and page.title != site.title and page.title != "" %}{{ safe_title }} &ndash; {% endif %}{{ site.title }}</title>

<meta name="description" content="{{ page.summary | default: site.description | escape }}">

{% if page.colors.css_light %}
  {% assign primary_color_light = page.colors.css_light | replace: "#", "" %}
  {% assign primary_color_dark  = page.colors.css_dark  | replace: "#", "" %}
{% else %}
  {% assign primary_color_light = "d01c11" %}
  {% assign primary_color_dark  = "ff4242" %}
{% endif %}

<meta name="theme-color" content="#{{ primary_color_light }}" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#{{ primary_color_dark  }}" media="(prefers-color-scheme: dark)">

{% include head/icons.html %}
{% include head/preload.html %}
{% include head/socialgraph.html %}

<link rel="stylesheet" href="/static/style.css?md5={% css_fingerprint %}">
{% include head/css_variables.html %}

<meta name="color-scheme" content="light dark"/>

{% if jekyll.environment == "production" %}
  {% include_cached analytics.html %}
{% endif %}
